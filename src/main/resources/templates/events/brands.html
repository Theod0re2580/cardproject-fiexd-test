<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>카드 브랜드 선택</title>
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">
    <style>
        body {
            font-family: 'Pretendard Variable', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            opacity: 0;
            transition: opacity 0.6s ease-in-out;
        }

        body.loaded { opacity: 1; }

        /* 제목 */
        h1 {
            text-align: center;
            margin: 50px 0 40px;
            color: #2d2d2d;
            font-size: 34px;
            font-weight: 700;
        }

        /* 브랜드 버튼 영역 */
        .brand-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 28px;
            padding: 0 20px;
        }

        /* 카드 박스 스타일 */
        .brand-buttons a {
            flex: 0 0 calc(16.66% - 20px); /* 6개씩 */
            max-width: 180px;
            height: 170px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;

            text-decoration: none;
            background-color: #fff;
            border-radius: 18px;

            box-shadow: 0 6px 14px rgba(0, 0, 0, 0.08);
            padding: 20px 10px;

            transition: all 0.3s ease;
            border: 1px solid #f0f0f0;
        }

        /* 호버 효과 */
        .brand-buttons a:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: #d6d6d6;
        }

        /* 로고 */
        .brand-buttons img {
            width: 75px;
            height: 75px;
            object-fit: contain;
            margin-bottom: 14px;
            transition: transform 0.25s ease;
        }

        .brand-buttons a:hover img {
            transform: scale(1.15);
        }

        /* 브랜드명 */
        .brand-buttons span {
            font-weight: 600;
            color: #333;
            font-size: 16px;
            text-align: center;
            margin-top: 6px;
        }

        /* 더보기 버튼 */
        .load-more {
            display: none;
            margin: 40px auto 60px;
            padding: 12px 35px;
            background-color: #4c5be5;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.05em;
            font-weight: 600;
            transition: 0.3s;
        }

        .load-more:hover {
            background-color: #3542c4;
        }

        /* 반응형 */
        @media (max-width: 1200px) {
            .brand-buttons a { flex: 0 0 calc(20% - 20px); }
        }

        @media (max-width: 900px) {
            .brand-buttons a { flex: 0 0 calc(25% - 20px); }
        }

        @media (max-width: 768px) {
            .brand-buttons a { flex: 0 0 calc(33.33% - 20px); }
        }

        @media (max-width: 480px) {
            .brand-buttons a { flex: 0 0 calc(50% - 20px); }
            h1 { font-size: 28px; margin-top: 30px; }
        }

    </style>
</head>
<div th:replace="events/header :: header"></div>
<body>
<h1>카드 브랜드 선택</h1>

<div class="brand-buttons">
    <a th:each="brand : ${brands}"
       th:data-brand="${brand}"
       th:href="@{/events/brand(brand=${brand})}">
        <img alt="brand logo" th:src="@{/images/brands/default.png}">
        <span th:text="${brand}"></span>
    </a>
</div>

<button id="loadMoreBtn" class="load-more">더보기</button>

<div th:replace="events/footer :: footer"></div>
<script>
    window.addEventListener('load', () => {
        document.body.classList.add('loaded');
    });

    document.addEventListener("DOMContentLoaded", function () {

        const logoMap = {
            'KB': '/images/brands/kb.png',
            '신한': '/images/brands/sh.png',
            '하나': '/images/brands/hana.png',
            '우리': '/images/brands/wori.png',
            '농협': '/images/brands/nhcard.png',
            'BC': '/images/brands/bc.png',
            '삼성': '/images/brands/Sam.png',
            '현대': '/images/brands/hyundai.png',
            '롯데': '/images/brands/lot.png',
            '카카오': '/images/brands/Kakao.png',
            '토스': '/images/brands/Toss.png',
            'IBK': '/images/brands/ibk.png',
            'BNK': '/images/brands/bsk.png',
            'DGB': '/images/brands/dgb.png',
            'KDB': '/images/brands/kdb.png',
            'DB' : '/images/brands/db.png',
            'KG' : '/images/brands/kg.png',
            'MG' : '/images/brands/mg.png',
            'NH투자증권' : '/images/brands/nhto.png',
            'SBI' : '/images/brands/sbi.png',
            'SC' : '/images/brands/sc.png',
            'SK' : '/images/brands/sk.png',
            'SSG' : '/images/brands/ssg.png',
            'Sh수협은행' : '/images/brands/shbank.png',
            '광주은행' : '/images/brands/gjb.png',
            '교보증권' : '/images/brands/kyo.png',
            '다날' : '/images/brands/danal.png',
            '미래에셋증권' : '/images/brands/mirae.png',
            '신협' : '/images/brands/sin.png',
            '씨티카드' : '/images/brands/citi.png',
            '아이오로라' : '/images/brands/iauro.png',
            '엔에이치엔페이코' : '/images/brands/pay.png',
            '우체국' : '/images/brands/post.png',
            '유안타증권' : '/images/brands/youanta.png',
            '유진투자증권' : '/images/brands/youjin.png',
            '전북은행' : '/images/brands/jb.png',
            '제주은행' : '/images/brands/jeju.png',
            '차이' : '/images/brands/chai.png',
            '케이뱅크' : '/images/brands/kban.jpg',
            '코나카드' : '/images/brands/kona.jpg',
            '토스' : '/images/brands/toss.png',
            '트래블월렛' : '/images/brands/travel.png',
            '핀크카드' : '/images/brands/finnq.png',
            '핀트' : '/images/brands/fint.png',
            '한국투자증권' : '/images/brands/korea.png',
            '한패스' : '/images/brands/hanpass.png'

        };

        const brandButtons = document.querySelectorAll(".brand-buttons a");
        const loadMoreBtn = document.getElementById("loadMoreBtn");

        brandButtons.forEach(a => {
            const brandName = a.dataset.brand;
            const img = a.querySelector("img");

            let foundLogo = null;

            for (const key in logoMap) {
                if (brandName.includes(key)) {
                    foundLogo = logoMap[key];
                    break;
                }
            }

            img.src = foundLogo || '/images/brands/default.png';
        });

        const initialCount = 16;
        brandButtons.forEach((a, i) => {
            if (i >= initialCount) a.style.display = "none";
        });

        if (brandButtons.length > initialCount) {
            loadMoreBtn.style.display = "block";
        }

        loadMoreBtn.addEventListener("click", () => {
            brandButtons.forEach(a => (a.style.display = "flex"));
            loadMoreBtn.style.display = "none";
        });
    });
</script>

</body>
</html>
